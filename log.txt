ExecMe
update vacancy set vacancy_code=?,vacancy_code2=?,vacancy_name=?,vacancy_startdate=?,vacancy_enddate=?,vacancy_type=?,vacancy_criteria=?,allowance=?,vacancy_description=? where vacancy_id=1
ExecMe
insert into vacancy_question(question_id, vacancy_id) values(?,?)
ExecMe
insert into vacancy_question(question_id, vacancy_id) values(?,?)
ExecMe
update vacancy set vacancy_code=?,vacancy_code2=?,vacancy_name=?,vacancy_startdate=?,vacancy_enddate=?,vacancy_type=?,vacancy_criteria=?,allowance=?,vacancy_description=? where vacancy_id=2
ExecMe
insert into vacancy_question(question_id, vacancy_id) values(?,?)
ExecMe
insert into vacancy_question(question_id, vacancy_id) values(?,?)
ExecMe
update question set question_val=? where question_id=9
ExecMe
insert into choice(choice_val, question_id, sort_id) values(?,?,?)
ExecMe
update question set question_val=? where question_id=5
ExecMe
insert into choice(choice_val, question_id, sort_id) values(?,?,?)
ExecMe
insert into choice(choice_val, question_id, sort_id) values(?,?,?)
ExecMe
insert into choice(choice_val, question_id, sort_id) values(?,?,?)
ExecMe
insert into m_user(user_name, pwd, activation_code) values(?,sha2(?,512),?)
ExecMe
insert into m_user_role(user_id, role_id) values(?,?)
ExecMe
insert into email(email_from, email_to, email_cc, email_bcc, email_subject, email_content) values(?,?,?,?,?,?)
ExecMe
update email set sent=now() where email_id=?
ExecMe
insert into job_applied(vacancy_id, user_id, date_applied, salary_expectation, negotiable) values(?,?,?,?,?)
ExecMe
insert into applicants_answer(job_applied_id, question_id, choice_id) values(?,?,?)
ExecMe
insert into applicants_answer(job_applied_id, question_id, choice_id) values(?,?,?)
ExecMe
create temporary table filter select a.user_id, a.vacancy_id, ? vacancy_progress_id
			, case when a.next_vacancy_progress_id=? then a.vacancy_shortlist else 0 end vacancy_shortlist from job_applied a
			where ifnull(a.vacancy_progress_id,'')=? and ?!='' and a.vacancy_id=? and a.vacancy_shortlist!=-1
ExecMe
drop table if exists filter2
ExecMe
drop table temp_rank
ExecMe
create temporary table temp_rank
	select b.vacancy_employee_id, b.employee_id, a.user_id, a.ranking_id, a.user_comment, concat(d.first_name,' ', d.last_name) as name, e.ranking_val
	from user_ranking a
	left join vacancy_employee b on a.vacancy_employee_id=b.vacancy_employee_id 
	inner join filter c on c.user_id=a.user_id and c.vacancy_id=b.vacancy_id and c.vacancy_progress_id=b.vacancy_progress_id
	left join applicants d on d.user_id=b.employee_id
	left join ranking e on e.ranking_id=a.ranking_id
	where  a.ranking_id is not null
ExecMe
create temporary table temp_rank2
	select b.vacancy_employee_id, b.employee_id, a.user_id, a.ranking_id, a.user_comment, concat(d.first_name,' ', d.last_name) as name, e.ranking_val
	from user_ranking a
	left join vacancy_employee b on a.vacancy_employee_id=b.vacancy_employee_id 
	inner join filter c on c.user_id=a.user_id and c.vacancy_id=b.vacancy_id
	left join applicants d on d.user_id=b.employee_id
	left join ranking e on e.ranking_id=a.ranking_id
	inner join vacancy f on f.vacancy_id=b.vacancy_id and f.vacancy_progress_id=b.vacancy_progress_id 
	left join temp_rank g on g.vacancy_employee_id=b.vacancy_employee_id and a.user_id=g.user_id
ExecMe
create temporary table filter select a.user_id, a.vacancy_id, ? vacancy_progress_id
			, case when a.next_vacancy_progress_id=? then a.vacancy_shortlist else 0 end vacancy_shortlist from job_applied a
			where ifnull(a.vacancy_progress_id,'')=? and ?!='' and a.vacancy_id=? and a.vacancy_shortlist!=-1
ExecMe
drop table if exists filter2
ExecMe
create temporary table filter2 select c.* from applicants_answer a
		left join job_applied b on a.job_applied_id=b.job_applied_id 
		inner join filter c on c.user_id=b.user_id and c.vacancy_id=b.vacancy_id
		where a.question_id=? and a.choice_id=? and b.vacancy_id=?
ExecMe
drop table if exists filter
ExecMe
drop table temp_rank
ExecMe
create temporary table temp_rank
	select b.vacancy_employee_id, b.employee_id, a.user_id, a.ranking_id, a.user_comment, concat(d.first_name,' ', d.last_name) as name, e.ranking_val
	from user_ranking a
	left join vacancy_employee b on a.vacancy_employee_id=b.vacancy_employee_id 
	inner join filter2 c on c.user_id=a.user_id and c.vacancy_id=b.vacancy_id and c.vacancy_progress_id=b.vacancy_progress_id
	left join applicants d on d.user_id=b.employee_id
	left join ranking e on e.ranking_id=a.ranking_id
	where  a.ranking_id is not null
ExecMe
create temporary table temp_rank2
	select b.vacancy_employee_id, b.employee_id, a.user_id, a.ranking_id, a.user_comment, concat(d.first_name,' ', d.last_name) as name, e.ranking_val
	from user_ranking a
	left join vacancy_employee b on a.vacancy_employee_id=b.vacancy_employee_id 
	inner join filter2 c on c.user_id=a.user_id and c.vacancy_id=b.vacancy_id
	left join applicants d on d.user_id=b.employee_id
	left join ranking e on e.ranking_id=a.ranking_id
	inner join vacancy f on f.vacancy_id=b.vacancy_id and f.vacancy_progress_id=b.vacancy_progress_id 
	left join temp_rank g on g.vacancy_employee_id=b.vacancy_employee_id and a.user_id=g.user_id
ExecMe
create temporary table filter select a.user_id, a.vacancy_id, ? vacancy_progress_id
			, case when a.next_vacancy_progress_id=? then a.vacancy_shortlist else 0 end vacancy_shortlist from job_applied a
			where ifnull(a.vacancy_progress_id,'')=? and ?!='' and a.vacancy_id=? and a.vacancy_shortlist!=-1
ExecMe
drop table if exists filter2
ExecMe
create temporary table filter2 select c.* from applicants_answer a
		left join job_applied b on a.job_applied_id=b.job_applied_id 
		inner join filter c on c.user_id=b.user_id and c.vacancy_id=b.vacancy_id
		where a.question_id=? and a.choice_id=? and b.vacancy_id=?
ExecMe
drop table if exists filter
ExecMe
create temporary table filter select c.* from applicants_answer a
		left join job_applied b on a.job_applied_id=b.job_applied_id 
		inner join filter2 c on c.user_id=b.user_id and c.vacancy_id=b.vacancy_id
		where a.question_id=? and a.choice_id=? and b.vacancy_id=?
ExecMe
drop table if exists filter2
ExecMe
drop table temp_rank
ExecMe
create temporary table temp_rank
	select b.vacancy_employee_id, b.employee_id, a.user_id, a.ranking_id, a.user_comment, concat(d.first_name,' ', d.last_name) as name, e.ranking_val
	from user_ranking a
	left join vacancy_employee b on a.vacancy_employee_id=b.vacancy_employee_id 
	inner join filter c on c.user_id=a.user_id and c.vacancy_id=b.vacancy_id and c.vacancy_progress_id=b.vacancy_progress_id
	left join applicants d on d.user_id=b.employee_id
	left join ranking e on e.ranking_id=a.ranking_id
	where  a.ranking_id is not null
ExecMe
create temporary table temp_rank2
	select b.vacancy_employee_id, b.employee_id, a.user_id, a.ranking_id, a.user_comment, concat(d.first_name,' ', d.last_name) as name, e.ranking_val
	from user_ranking a
	left join vacancy_employee b on a.vacancy_employee_id=b.vacancy_employee_id 
	inner join filter c on c.user_id=a.user_id and c.vacancy_id=b.vacancy_id
	left join applicants d on d.user_id=b.employee_id
	left join ranking e on e.ranking_id=a.ranking_id
	inner join vacancy f on f.vacancy_id=b.vacancy_id and f.vacancy_progress_id=b.vacancy_progress_id 
	left join temp_rank g on g.vacancy_employee_id=b.vacancy_employee_id and a.user_id=g.user_id
ExecMe
create temporary table filter select a.user_id, a.vacancy_id, ? vacancy_progress_id
			, case when a.next_vacancy_progress_id=? then a.vacancy_shortlist else 0 end vacancy_shortlist from job_applied a
			where ifnull(a.vacancy_progress_id,'')=? and ?!='' and a.vacancy_id=? and a.vacancy_shortlist!=-1
ExecMe
drop table if exists filter2
ExecMe
create temporary table filter2 select c.* from applicants_answer a
		left join job_applied b on a.job_applied_id=b.job_applied_id 
		inner join filter c on c.user_id=b.user_id and c.vacancy_id=b.vacancy_id
		where a.question_id=? and a.choice_id=? and b.vacancy_id=?
ExecMe
drop table if exists filter
ExecMe
create temporary table filter select c.* from applicants_answer a
		left join job_applied b on a.job_applied_id=b.job_applied_id 
		inner join filter2 c on c.user_id=b.user_id and c.vacancy_id=b.vacancy_id
		where a.question_id=? and a.choice_id=? and b.vacancy_id=?
ExecMe
drop table if exists filter2
ExecMe
drop table temp_rank
ExecMe
create temporary table temp_rank
	select b.vacancy_employee_id, b.employee_id, a.user_id, a.ranking_id, a.user_comment, concat(d.first_name,' ', d.last_name) as name, e.ranking_val
	from user_ranking a
	left join vacancy_employee b on a.vacancy_employee_id=b.vacancy_employee_id 
	inner join filter c on c.user_id=a.user_id and c.vacancy_id=b.vacancy_id and c.vacancy_progress_id=b.vacancy_progress_id
	left join applicants d on d.user_id=b.employee_id
	left join ranking e on e.ranking_id=a.ranking_id
	where  a.ranking_id is not null
ExecMe
create temporary table temp_rank2
	select b.vacancy_employee_id, b.employee_id, a.user_id, a.ranking_id, a.user_comment, concat(d.first_name,' ', d.last_name) as name, e.ranking_val
	from user_ranking a
	left join vacancy_employee b on a.vacancy_employee_id=b.vacancy_employee_id 
	inner join filter c on c.user_id=a.user_id and c.vacancy_id=b.vacancy_id
	left join applicants d on d.user_id=b.employee_id
	left join ranking e on e.ranking_id=a.ranking_id
	inner join vacancy f on f.vacancy_id=b.vacancy_id and f.vacancy_progress_id=b.vacancy_progress_id 
	left join temp_rank g on g.vacancy_employee_id=b.vacancy_employee_id and a.user_id=g.user_id
ExecMe
create temporary table filter select a.user_id, a.vacancy_id, ? vacancy_progress_id
			, case when a.next_vacancy_progress_id=? then a.vacancy_shortlist else 0 end vacancy_shortlist from job_applied a
			where ifnull(a.vacancy_progress_id,'')=? and ?!='' and a.vacancy_id=? and a.vacancy_shortlist!=-1
ExecMe
drop table if exists filter2
ExecMe
create temporary table filter2 select c.* from applicants_answer a
		left join job_applied b on a.job_applied_id=b.job_applied_id 
		inner join filter c on c.user_id=b.user_id and c.vacancy_id=b.vacancy_id
		where a.question_id=? and a.choice_id=? and b.vacancy_id=?
ExecMe
drop table if exists filter
ExecMe
drop table temp_rank
ExecMe
create temporary table temp_rank
	select b.vacancy_employee_id, b.employee_id, a.user_id, a.ranking_id, a.user_comment, concat(d.first_name,' ', d.last_name) as name, e.ranking_val
	from user_ranking a
	left join vacancy_employee b on a.vacancy_employee_id=b.vacancy_employee_id 
	inner join filter2 c on c.user_id=a.user_id and c.vacancy_id=b.vacancy_id and c.vacancy_progress_id=b.vacancy_progress_id
	left join applicants d on d.user_id=b.employee_id
	left join ranking e on e.ranking_id=a.ranking_id
	where  a.ranking_id is not null
ExecMe
create temporary table temp_rank2
	select b.vacancy_employee_id, b.employee_id, a.user_id, a.ranking_id, a.user_comment, concat(d.first_name,' ', d.last_name) as name, e.ranking_val
	from user_ranking a
	left join vacancy_employee b on a.vacancy_employee_id=b.vacancy_employee_id 
	inner join filter2 c on c.user_id=a.user_id and c.vacancy_id=b.vacancy_id
	left join applicants d on d.user_id=b.employee_id
	left join ranking e on e.ranking_id=a.ranking_id
	inner join vacancy f on f.vacancy_id=b.vacancy_id and f.vacancy_progress_id=b.vacancy_progress_id 
	left join temp_rank g on g.vacancy_employee_id=b.vacancy_employee_id and a.user_id=g.user_id
ExecMe
create temporary table filter select a.user_id, a.vacancy_id, ? vacancy_progress_id
			, case when a.next_vacancy_progress_id=? then a.vacancy_shortlist else 0 end vacancy_shortlist from job_applied a
			where ifnull(a.vacancy_progress_id,'')=? and ?!='' and a.vacancy_id=? and a.vacancy_shortlist!=-1
ExecMe
drop table if exists filter2
ExecMe
drop table temp_rank
ExecMe
create temporary table temp_rank
	select b.vacancy_employee_id, b.employee_id, a.user_id, a.ranking_id, a.user_comment, concat(d.first_name,' ', d.last_name) as name, e.ranking_val
	from user_ranking a
	left join vacancy_employee b on a.vacancy_employee_id=b.vacancy_employee_id 
	inner join filter c on c.user_id=a.user_id and c.vacancy_id=b.vacancy_id and c.vacancy_progress_id=b.vacancy_progress_id
	left join applicants d on d.user_id=b.employee_id
	left join ranking e on e.ranking_id=a.ranking_id
	where  a.ranking_id is not null
ExecMe
create temporary table temp_rank2
	select b.vacancy_employee_id, b.employee_id, a.user_id, a.ranking_id, a.user_comment, concat(d.first_name,' ', d.last_name) as name, e.ranking_val
	from user_ranking a
	left join vacancy_employee b on a.vacancy_employee_id=b.vacancy_employee_id 
	inner join filter c on c.user_id=a.user_id and c.vacancy_id=b.vacancy_id
	left join applicants d on d.user_id=b.employee_id
	left join ranking e on e.ranking_id=a.ranking_id
	inner join vacancy f on f.vacancy_id=b.vacancy_id and f.vacancy_progress_id=b.vacancy_progress_id 
	left join temp_rank g on g.vacancy_employee_id=b.vacancy_employee_id and a.user_id=g.user_id
ExecMe
insert into job_applied(vacancy_id, user_id, date_applied, salary_expectation, negotiable) values(?,?,?,?,?)
ExecMe
insert into applicants_answer(job_applied_id, question_id, choice_id) values(?,?,?)
ExecMe
insert into applicants_answer(job_applied_id, question_id, choice_id) values(?,?,?)
update job_applied set salary_expectation=?, negotiable=? where job_applied_id=?
ExecMe
update job_applied set salary_expectation=?, negotiable=? where job_applied_id=?
update applicants_answer set choice_id=? where job_applied_id=? and question_id=?
ExecMe
update applicants_answer set choice_id=? where job_applied_id=? and question_id=?
update applicants_answer set choice_id=? where job_applied_id=? and question_id=?
ExecMe
update applicants_answer set choice_id=? where job_applied_id=? and question_id=?
update job_applied set salary_expectation=?, negotiable=? where job_applied_id=?
ExecMe
update job_applied set salary_expectation=?, negotiable=? where job_applied_id=?
update applicants_answer set choice_id=? where job_applied_id=? and question_id=?
ExecMe
update applicants_answer set choice_id=? where job_applied_id=? and question_id=?
update applicants_answer set choice_id=? where job_applied_id=? and question_id=?
ExecMe
update applicants_answer set choice_id=? where job_applied_id=? and question_id=?
ExecMe
create temporary table filter select a.user_id, a.vacancy_id, ? vacancy_progress_id
			, case when a.next_vacancy_progress_id=? then a.vacancy_shortlist else 0 end vacancy_shortlist from job_applied a
			where ifnull(a.vacancy_progress_id,'')=? and ?!='' and a.vacancy_id=? and a.vacancy_shortlist!=-1
ExecMe
drop table if exists filter2
ExecMe
drop table temp_rank
ExecMe
create temporary table temp_rank
	select b.vacancy_employee_id, b.employee_id, a.user_id, a.ranking_id, a.user_comment, concat(d.first_name,' ', d.last_name) as name, e.ranking_val
	from user_ranking a
	left join vacancy_employee b on a.vacancy_employee_id=b.vacancy_employee_id 
	inner join filter c on c.user_id=a.user_id and c.vacancy_id=b.vacancy_id and c.vacancy_progress_id=b.vacancy_progress_id
	left join applicants d on d.user_id=b.employee_id
	left join ranking e on e.ranking_id=a.ranking_id
	where  a.ranking_id is not null
ExecMe
create temporary table temp_rank2
	select b.vacancy_employee_id, b.employee_id, a.user_id, a.ranking_id, a.user_comment, concat(d.first_name,' ', d.last_name) as name, e.ranking_val
	from user_ranking a
	left join vacancy_employee b on a.vacancy_employee_id=b.vacancy_employee_id 
	inner join filter c on c.user_id=a.user_id and c.vacancy_id=b.vacancy_id
	left join applicants d on d.user_id=b.employee_id
	left join ranking e on e.ranking_id=a.ranking_id
	inner join vacancy f on f.vacancy_id=b.vacancy_id and f.vacancy_progress_id=b.vacancy_progress_id 
	left join temp_rank g on g.vacancy_employee_id=b.vacancy_employee_id and a.user_id=g.user_id
ExecMe
insert into vacancy_employee(vacancy_id, employee_id, vacancy_progress_id) values(?,?,?)
ExecMe
insert into user_ranking(vacancy_employee_id, user_id, ranking_id, user_comment) values(?,?,?,?)
ExecMe
insert into vacancy_employee(vacancy_id, employee_id, vacancy_progress_id) values(?,?,?)
ExecMe
insert into user_ranking(vacancy_employee_id, user_id, ranking_id, user_comment) values(?,?,?,?)
ExecMe
update job_applied set vacancy_shortlist=1, next_vacancy_progress_id=? where vacancy_id=? and user_id=?
ExecMe
insert into vacancy_employee(vacancy_id, employee_id, vacancy_progress_id) values(?,?,?)
ExecMe
insert into user_ranking(vacancy_employee_id, user_id, ranking_id, user_comment) values(?,?,?,?)
ExecMe
insert into vacancy_interview(vacancy_id, user_id, vacancy_progress_id, interview_place, interview_date, interview_time) values(?,?,?,?,?,?)
ExecMe
insert into user_ranking(vacancy_employee_id, user_id, ranking_id, user_comment) values(?,?,?,?)
ExecMe
insert into applicants(user_id,first_name,last_name,place_of_birth,date_of_birth,gender,nationality,nationality_val,address,country,country_name,province,city,post_code,phone1,phone2,computer_skills,professional_skills) values(?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?,?)
ExecMe
insert into job_applied(vacancy_id, user_id, date_applied, salary_expectation, negotiable) values(?,?,?,?,?)
ExecMe
insert into applicants_answer(job_applied_id, question_id, choice_id) values(?,?,?)
ExecMe
insert into applicants_answer(job_applied_id, question_id, choice_id) values(?,?,?)
ExecMe
create temporary table filter select a.user_id, a.vacancy_id, ? vacancy_progress_id
			, case when a.next_vacancy_progress_id=? then a.vacancy_shortlist else 0 end vacancy_shortlist from job_applied a
			where ifnull(a.vacancy_progress_id,'')=? and ?!='' and a.vacancy_id=? and a.vacancy_shortlist!=-1
ExecMe
drop table if exists filter2
ExecMe
drop table temp_rank
ExecMe
create temporary table temp_rank
	select b.vacancy_employee_id, b.employee_id, a.user_id, a.ranking_id, a.user_comment, concat(d.first_name,' ', d.last_name) as name, e.ranking_val
	from user_ranking a
	left join vacancy_employee b on a.vacancy_employee_id=b.vacancy_employee_id 
	inner join filter c on c.user_id=a.user_id and c.vacancy_id=b.vacancy_id and c.vacancy_progress_id=b.vacancy_progress_id
	left join applicants d on d.user_id=b.employee_id
	left join ranking e on e.ranking_id=a.ranking_id
	where  a.ranking_id is not null
ExecMe
create temporary table temp_rank2
	select b.vacancy_employee_id, b.employee_id, a.user_id, a.ranking_id, a.user_comment, concat(d.first_name,' ', d.last_name) as name, e.ranking_val
	from user_ranking a
	left join vacancy_employee b on a.vacancy_employee_id=b.vacancy_employee_id 
	inner join filter c on c.user_id=a.user_id and c.vacancy_id=b.vacancy_id
	left join applicants d on d.user_id=b.employee_id
	left join ranking e on e.ranking_id=a.ranking_id
	inner join vacancy f on f.vacancy_id=b.vacancy_id and f.vacancy_progress_id=b.vacancy_progress_id 
	left join temp_rank g on g.vacancy_employee_id=b.vacancy_employee_id and a.user_id=g.user_id
ExecMe
insert into user_ranking(vacancy_employee_id, user_id, ranking_id, user_comment) values(?,?,?,?)
ExecMe
insert into user_ranking(vacancy_employee_id, user_id, ranking_id, user_comment) values(?,?,?,?)
ExecMe
create temporary table filter select a.user_id, a.vacancy_id, a.next_vacancy_progress_id vacancy_progress_id, a.vacancy_shortlist from job_applied a
where a.vacancy_id=? and ifnull(a.next_vacancy_progress_id,'')=? and a.vacancy_shortlist=1


ExecMe
create temporary table filter select a.user_id, a.vacancy_id, ? vacancy_progress_id
			, case when a.next_vacancy_progress_id=? then a.vacancy_shortlist else 0 end vacancy_shortlist from job_applied a
			where ifnull(a.vacancy_progress_id,'')=? and ?!='' and a.vacancy_id=? and a.vacancy_shortlist!=-1
ExecMe
drop table if exists filter2
ExecMe
drop table temp_rank
ExecMe
create temporary table temp_rank
	select b.vacancy_employee_id, b.employee_id, a.user_id, a.ranking_id, a.user_comment, concat(d.first_name,' ', d.last_name) as name, e.ranking_val
	from user_ranking a
	left join vacancy_employee b on a.vacancy_employee_id=b.vacancy_employee_id 
	inner join filter c on c.user_id=a.user_id and c.vacancy_id=b.vacancy_id and c.vacancy_progress_id=b.vacancy_progress_id
	left join applicants d on d.user_id=b.employee_id
	left join ranking e on e.ranking_id=a.ranking_id
	where  a.ranking_id is not null
ExecMe
create temporary table temp_rank2
	select b.vacancy_employee_id, b.employee_id, a.user_id, a.ranking_id, a.user_comment, concat(d.first_name,' ', d.last_name) as name, e.ranking_val
	from user_ranking a
	left join vacancy_employee b on a.vacancy_employee_id=b.vacancy_employee_id 
	inner join filter c on c.user_id=a.user_id and c.vacancy_id=b.vacancy_id
	left join applicants d on d.user_id=b.employee_id
	left join ranking e on e.ranking_id=a.ranking_id
	inner join vacancy f on f.vacancy_id=b.vacancy_id and f.vacancy_progress_id=b.vacancy_progress_id 
	left join temp_rank g on g.vacancy_employee_id=b.vacancy_employee_id and a.user_id=g.user_id
ExecMe
insert into user_ranking(vacancy_employee_id, user_id, ranking_id, user_comment) values(?,?,?,?)
ExecMe
create temporary table filter select a.user_id, a.vacancy_id, ? vacancy_progress_id
			, case when a.next_vacancy_progress_id=? then a.vacancy_shortlist else 0 end vacancy_shortlist from job_applied a
			where ifnull(a.vacancy_progress_id,'')=? and ?!='' and a.vacancy_id=? and a.vacancy_shortlist!=-1
ExecMe
drop table if exists filter2
ExecMe
drop table temp_rank
ExecMe
create temporary table temp_rank
	select b.vacancy_employee_id, b.employee_id, a.user_id, a.ranking_id, a.user_comment, concat(d.first_name,' ', d.last_name) as name, e.ranking_val
	from user_ranking a
	left join vacancy_employee b on a.vacancy_employee_id=b.vacancy_employee_id 
	inner join filter c on c.user_id=a.user_id and c.vacancy_id=b.vacancy_id and c.vacancy_progress_id=b.vacancy_progress_id
	left join applicants d on d.user_id=b.employee_id
	left join ranking e on e.ranking_id=a.ranking_id
	where  a.ranking_id is not null
ExecMe
create temporary table temp_rank2
	select b.vacancy_employee_id, b.employee_id, a.user_id, a.ranking_id, a.user_comment, concat(d.first_name,' ', d.last_name) as name, e.ranking_val
	from user_ranking a
	left join vacancy_employee b on a.vacancy_employee_id=b.vacancy_employee_id 
	inner join filter c on c.user_id=a.user_id and c.vacancy_id=b.vacancy_id
	left join applicants d on d.user_id=b.employee_id
	left join ranking e on e.ranking_id=a.ranking_id
	inner join vacancy f on f.vacancy_id=b.vacancy_id and f.vacancy_progress_id=b.vacancy_progress_id 
	left join temp_rank g on g.vacancy_employee_id=b.vacancy_employee_id and a.user_id=g.user_id
ExecMe
insert into user_ranking(vacancy_employee_id, user_id, ranking_id, user_comment) values(?,?,?,?)


update applicants set contract_state=? where user_id=?
ExecMe
update applicants set contract_state=? where user_id=?




ExecMe
insert into employee_outpatient(user_id, invoice_date, invoice_val, claim) values(?,?,?,?)

update employee_outpatient set invoice_date=?, invoice_val=?, claim=? where employee_outpatient_id=?
ExecMe
update employee_outpatient set invoice_date=?, invoice_val=?, claim=? where employee_outpatient_id=?
update employee_outpatient set invoice_date=?, invoice_val=?, claim=? where employee_outpatient_id=?
ExecMe
update employee_outpatient set invoice_date=?, invoice_val=?, claim=? where employee_outpatient_id=?
update employee_outpatient set invoice_date=?, invoice_val=?, claim=? where employee_outpatient_id=?
ExecMe
update employee_outpatient set invoice_date=?, invoice_val=?, claim=? where employee_outpatient_id=?
update settings set setting_val=? where setting_name=?
1500000
Medical Checkup Limit
ExecMe
update settings set setting_val=? where setting_name=?
ExecMe
create temporary table filter select a.user_id, a.vacancy_id, ? vacancy_progress_id
			, case when a.next_vacancy_progress_id=? then a.vacancy_shortlist else 0 end vacancy_shortlist from job_applied a
			where ifnull(a.vacancy_progress_id,'')=? and ?!='' and a.vacancy_id=? and a.vacancy_shortlist!=-1
ExecMe
drop table if exists filter2
ExecMe
drop table temp_rank
ExecMe
create temporary table temp_rank
	select b.vacancy_employee_id, b.employee_id, a.user_id, a.ranking_id, a.user_comment, concat(d.first_name,' ', d.last_name) as name, e.ranking_val
	from user_ranking a
	left join vacancy_employee b on a.vacancy_employee_id=b.vacancy_employee_id 
	inner join filter c on c.user_id=a.user_id and c.vacancy_id=b.vacancy_id and c.vacancy_progress_id=b.vacancy_progress_id
	left join applicants d on d.user_id=b.employee_id
	left join ranking e on e.ranking_id=a.ranking_id
	where  a.ranking_id is not null
ExecMe
create temporary table temp_rank2
	select b.vacancy_employee_id, b.employee_id, a.user_id, a.ranking_id, a.user_comment, concat(d.first_name,' ', d.last_name) as name, e.ranking_val
	from user_ranking a
	left join vacancy_employee b on a.vacancy_employee_id=b.vacancy_employee_id 
	inner join filter c on c.user_id=a.user_id and c.vacancy_id=b.vacancy_id
	left join applicants d on d.user_id=b.employee_id
	left join ranking e on e.ranking_id=a.ranking_id
	inner join vacancy f on f.vacancy_id=b.vacancy_id and f.vacancy_progress_id=b.vacancy_progress_id 
	left join temp_rank g on g.vacancy_employee_id=b.vacancy_employee_id and a.user_id=g.user_id
ExecMe
create temporary table filter select a.user_id, a.vacancy_id, a.next_vacancy_progress_id vacancy_progress_id, a.vacancy_shortlist from job_applied a
where a.vacancy_id=? and ifnull(a.next_vacancy_progress_id,'')=? and a.vacancy_shortlist=1

ExecMe
create temporary table filter select a.user_id, a.vacancy_id, a.next_vacancy_progress_id vacancy_progress_id, a.vacancy_shortlist from job_applied a
where a.vacancy_id=? and ifnull(a.next_vacancy_progress_id,'')=? and a.vacancy_shortlist=1
ExecMe
create temporary table filter select a.user_id, a.vacancy_id, ? vacancy_progress_id
			, case when a.next_vacancy_progress_id=? then a.vacancy_shortlist else 0 end vacancy_shortlist from job_applied a
			where ifnull(a.vacancy_progress_id,'')=? and ?!='' and a.vacancy_id=? and a.vacancy_shortlist!=-1
ExecMe
drop table if exists filter2
ExecMe
drop table temp_rank
ExecMe
create temporary table temp_rank
	select b.vacancy_employee_id, b.employee_id, a.user_id, a.ranking_id, a.user_comment, concat(d.first_name,' ', d.last_name) as name, e.ranking_val
	from user_ranking a
	left join vacancy_employee b on a.vacancy_employee_id=b.vacancy_employee_id 
	inner join filter c on c.user_id=a.user_id and c.vacancy_id=b.vacancy_id and c.vacancy_progress_id=b.vacancy_progress_id
	left join applicants d on d.user_id=b.employee_id
	left join ranking e on e.ranking_id=a.ranking_id
	where  a.ranking_id is not null
ExecMe
create temporary table temp_rank2
	select b.vacancy_employee_id, b.employee_id, a.user_id, a.ranking_id, a.user_comment, concat(d.first_name,' ', d.last_name) as name, e.ranking_val
	from user_ranking a
	left join vacancy_employee b on a.vacancy_employee_id=b.vacancy_employee_id 
	inner join filter c on c.user_id=a.user_id and c.vacancy_id=b.vacancy_id
	left join applicants d on d.user_id=b.employee_id
	left join ranking e on e.ranking_id=a.ranking_id
	inner join vacancy f on f.vacancy_id=b.vacancy_id and f.vacancy_progress_id=b.vacancy_progress_id 
	left join temp_rank g on g.vacancy_employee_id=b.vacancy_employee_id and a.user_id=g.user_id
ExecMe
insert into user_ranking(vacancy_employee_id, user_id, ranking_id, user_comment) values(?,?,?,?)
ExecMe
create temporary table filter select a.user_id, a.vacancy_id, ? vacancy_progress_id
			, case when a.next_vacancy_progress_id=? then a.vacancy_shortlist else 0 end vacancy_shortlist from job_applied a
			where ifnull(a.vacancy_progress_id,'')=? and ?!='' and a.vacancy_id=? and a.vacancy_shortlist!=-1
ExecMe
drop table if exists filter2
ExecMe
drop table temp_rank
ExecMe
create temporary table temp_rank
	select b.vacancy_employee_id, b.employee_id, a.user_id, a.ranking_id, a.user_comment, concat(d.first_name,' ', d.last_name) as name, e.ranking_val
	from user_ranking a
	left join vacancy_employee b on a.vacancy_employee_id=b.vacancy_employee_id 
	inner join filter c on c.user_id=a.user_id and c.vacancy_id=b.vacancy_id and c.vacancy_progress_id=b.vacancy_progress_id
	left join applicants d on d.user_id=b.employee_id
	left join ranking e on e.ranking_id=a.ranking_id
	where  a.ranking_id is not null
ExecMe
create temporary table temp_rank2
	select b.vacancy_employee_id, b.employee_id, a.user_id, a.ranking_id, a.user_comment, concat(d.first_name,' ', d.last_name) as name, e.ranking_val
	from user_ranking a
	left join vacancy_employee b on a.vacancy_employee_id=b.vacancy_employee_id 
	inner join filter c on c.user_id=a.user_id and c.vacancy_id=b.vacancy_id
	left join applicants d on d.user_id=b.employee_id
	left join ranking e on e.ranking_id=a.ranking_id
	inner join vacancy f on f.vacancy_id=b.vacancy_id and f.vacancy_progress_id=b.vacancy_progress_id 
	left join temp_rank g on g.vacancy_employee_id=b.vacancy_employee_id and a.user_id=g.user_id
ExecMe
insert into user_ranking(vacancy_employee_id, user_id, ranking_id, user_comment) values(?,?,?,?)
ExecMe
create temporary table filter select a.user_id, a.vacancy_id, ? vacancy_progress_id
			, case when a.next_vacancy_progress_id=? then a.vacancy_shortlist else 0 end vacancy_shortlist from job_applied a
			where ifnull(a.vacancy_progress_id,'')=? and ?!='' and a.vacancy_id=? and a.vacancy_shortlist!=-1
ExecMe
drop table if exists filter2
ExecMe
drop table temp_rank
ExecMe
create temporary table temp_rank
	select b.vacancy_employee_id, b.employee_id, a.user_id, a.ranking_id, a.user_comment, concat(d.first_name,' ', d.last_name) as name, e.ranking_val
	from user_ranking a
	left join vacancy_employee b on a.vacancy_employee_id=b.vacancy_employee_id 
	inner join filter c on c.user_id=a.user_id and c.vacancy_id=b.vacancy_id and c.vacancy_progress_id=b.vacancy_progress_id
	left join applicants d on d.user_id=b.employee_id
	left join ranking e on e.ranking_id=a.ranking_id
	where  a.ranking_id is not null
ExecMe
create temporary table temp_rank2
	select b.vacancy_employee_id, b.employee_id, a.user_id, a.ranking_id, a.user_comment, concat(d.first_name,' ', d.last_name) as name, e.ranking_val
	from user_ranking a
	left join vacancy_employee b on a.vacancy_employee_id=b.vacancy_employee_id 
	inner join filter c on c.user_id=a.user_id and c.vacancy_id=b.vacancy_id
	left join applicants d on d.user_id=b.employee_id
	left join ranking e on e.ranking_id=a.ranking_id
	inner join vacancy f on f.vacancy_id=b.vacancy_id and f.vacancy_progress_id=b.vacancy_progress_id 
	left join temp_rank g on g.vacancy_employee_id=b.vacancy_employee_id and a.user_id=g.user_id
ExecMe
insert into user_ranking(vacancy_employee_id, user_id, ranking_id, user_comment) values(?,?,?,?)
ExecMe
insert into user_ranking(vacancy_employee_id, user_id, ranking_id, user_comment) values(?,?,?,?)
ExecMe
insert into user_ranking(vacancy_employee_id, user_id, ranking_id, user_comment) values(?,?,?,?)
ExecMe
insert into user_ranking(vacancy_employee_id, user_id, ranking_id, user_comment) values(?,?,?,?)
ExecMe
insert into user_ranking(vacancy_employee_id, user_id, ranking_id, user_comment) values(?,?,?,?)
ExecMe
insert into user_ranking(vacancy_employee_id, user_id, ranking_id, user_comment) values(?,?,?,?)
ExecMe
insert into user_ranking(vacancy_employee_id, user_id, ranking_id, user_comment) values(?,?,?,?)
ExecMe
insert into user_ranking(vacancy_employee_id, user_id, ranking_id, user_comment) values(?,?,?,?)
ExecMe
insert into user_ranking(vacancy_employee_id, user_id, ranking_id, user_comment) values(?,?,?,?)
ExecMe
insert into user_ranking(vacancy_employee_id, user_id, ranking_id, user_comment) values(?,?,?,?)
ExecMe
create temporary table filter select a.user_id, a.vacancy_id, ? vacancy_progress_id
			, case when a.next_vacancy_progress_id=? then a.vacancy_shortlist else 0 end vacancy_shortlist from job_applied a
			where ifnull(a.vacancy_progress_id,'')=? and ?!='' and a.vacancy_id=? and a.vacancy_shortlist!=-1
ExecMe
drop table if exists filter2
ExecMe
drop table temp_rank
ExecMe
create temporary table temp_rank
	select b.vacancy_employee_id, b.employee_id, a.user_id, a.ranking_id, a.user_comment, concat(d.first_name,' ', d.last_name) as name, e.ranking_val
	from user_ranking a
	left join vacancy_employee b on a.vacancy_employee_id=b.vacancy_employee_id 
	inner join filter c on c.user_id=a.user_id and c.vacancy_id=b.vacancy_id and c.vacancy_progress_id=b.vacancy_progress_id
	left join applicants d on d.user_id=b.employee_id
	left join ranking e on e.ranking_id=a.ranking_id
	where  a.ranking_id is not null
ExecMe
create temporary table temp_rank2
	select b.vacancy_employee_id, b.employee_id, a.user_id, a.ranking_id, a.user_comment, concat(d.first_name,' ', d.last_name) as name, e.ranking_val
	from user_ranking a
	left join vacancy_employee b on a.vacancy_employee_id=b.vacancy_employee_id 
	inner join filter c on c.user_id=a.user_id and c.vacancy_id=b.vacancy_id
	left join applicants d on d.user_id=b.employee_id
	left join ranking e on e.ranking_id=a.ranking_id
	inner join vacancy f on f.vacancy_id=b.vacancy_id and f.vacancy_progress_id=b.vacancy_progress_id 
	left join temp_rank g on g.vacancy_employee_id=b.vacancy_employee_id and a.user_id=g.user_id
ExecMe
insert into user_ranking(vacancy_employee_id, user_id, ranking_id, user_comment) values(?,?,?,?)
ExecMe
create temporary table filter select a.user_id, a.vacancy_id, ? vacancy_progress_id
			, case when a.next_vacancy_progress_id=? then a.vacancy_shortlist else 0 end vacancy_shortlist from job_applied a
			where ifnull(a.vacancy_progress_id,'')=? and ?!='' and a.vacancy_id=? and a.vacancy_shortlist!=-1
ExecMe
drop table if exists filter2
ExecMe
drop table temp_rank
ExecMe
create temporary table temp_rank
	select b.vacancy_employee_id, b.employee_id, a.user_id, a.ranking_id, a.user_comment, concat(d.first_name,' ', d.last_name) as name, e.ranking_val
	from user_ranking a
	left join vacancy_employee b on a.vacancy_employee_id=b.vacancy_employee_id 
	inner join filter c on c.user_id=a.user_id and c.vacancy_id=b.vacancy_id and c.vacancy_progress_id=b.vacancy_progress_id
	left join applicants d on d.user_id=b.employee_id
	left join ranking e on e.ranking_id=a.ranking_id
	where  a.ranking_id is not null
ExecMe
create temporary table temp_rank2
	select b.vacancy_employee_id, b.employee_id, a.user_id, a.ranking_id, a.user_comment, concat(d.first_name,' ', d.last_name) as name, e.ranking_val
	from user_ranking a
	left join vacancy_employee b on a.vacancy_employee_id=b.vacancy_employee_id 
	inner join filter c on c.user_id=a.user_id and c.vacancy_id=b.vacancy_id
	left join applicants d on d.user_id=b.employee_id
	left join ranking e on e.ranking_id=a.ranking_id
	inner join vacancy f on f.vacancy_id=b.vacancy_id and f.vacancy_progress_id=b.vacancy_progress_id 
	left join temp_rank g on g.vacancy_employee_id=b.vacancy_employee_id and a.user_id=g.user_id
ExecMe
create temporary table filter select a.user_id, a.vacancy_id, ? vacancy_progress_id
			, case when a.next_vacancy_progress_id=? then a.vacancy_shortlist else 0 end vacancy_shortlist from job_applied a
			where ifnull(a.vacancy_progress_id,'')=? and ?!='' and a.vacancy_id=? and a.vacancy_shortlist!=-1
ExecMe
drop table if exists filter2
ExecMe
drop table temp_rank
ExecMe
create temporary table temp_rank
	select b.vacancy_employee_id, b.employee_id, a.user_id, a.ranking_id, a.user_comment, concat(d.first_name,' ', d.last_name) as name, e.ranking_val
	from user_ranking a
	left join vacancy_employee b on a.vacancy_employee_id=b.vacancy_employee_id 
	inner join filter c on c.user_id=a.user_id and c.vacancy_id=b.vacancy_id and c.vacancy_progress_id=b.vacancy_progress_id
	left join applicants d on d.user_id=b.employee_id
	left join ranking e on e.ranking_id=a.ranking_id
	where  a.ranking_id is not null
ExecMe
create temporary table temp_rank2
	select b.vacancy_employee_id, b.employee_id, a.user_id, a.ranking_id, a.user_comment, concat(d.first_name,' ', d.last_name) as name, e.ranking_val
	from user_ranking a
	left join vacancy_employee b on a.vacancy_employee_id=b.vacancy_employee_id 
	inner join filter c on c.user_id=a.user_id and c.vacancy_id=b.vacancy_id
	left join applicants d on d.user_id=b.employee_id
	left join ranking e on e.ranking_id=a.ranking_id
	inner join vacancy f on f.vacancy_id=b.vacancy_id and f.vacancy_progress_id=b.vacancy_progress_id 
	left join temp_rank g on g.vacancy_employee_id=b.vacancy_employee_id and a.user_id=g.user_id
ExecMe
insert into user_ranking(vacancy_employee_id, user_id, ranking_id, user_comment) values(?,?,?,?)
ExecMe
create temporary table filter select a.user_id, a.vacancy_id, ? vacancy_progress_id
			, case when a.next_vacancy_progress_id=? then a.vacancy_shortlist else 0 end vacancy_shortlist from job_applied a
			where ifnull(a.vacancy_progress_id,'')=? and ?!='' and a.vacancy_id=? and a.vacancy_shortlist!=-1
ExecMe
drop table if exists filter2
ExecMe
drop table temp_rank
ExecMe
create temporary table temp_rank
	select b.vacancy_employee_id, b.employee_id, a.user_id, a.ranking_id, a.user_comment, concat(d.first_name,' ', d.last_name) as name, e.ranking_val
	from user_ranking a
	left join vacancy_employee b on a.vacancy_employee_id=b.vacancy_employee_id 
	inner join filter c on c.user_id=a.user_id and c.vacancy_id=b.vacancy_id and c.vacancy_progress_id=b.vacancy_progress_id
	left join applicants d on d.user_id=b.employee_id
	left join ranking e on e.ranking_id=a.ranking_id
	where  a.ranking_id is not null
ExecMe
create temporary table temp_rank2
	select b.vacancy_employee_id, b.employee_id, a.user_id, a.ranking_id, a.user_comment, concat(d.first_name,' ', d.last_name) as name, e.ranking_val
	from user_ranking a
	left join vacancy_employee b on a.vacancy_employee_id=b.vacancy_employee_id 
	inner join filter c on c.user_id=a.user_id and c.vacancy_id=b.vacancy_id
	left join applicants d on d.user_id=b.employee_id
	left join ranking e on e.ranking_id=a.ranking_id
	inner join vacancy f on f.vacancy_id=b.vacancy_id and f.vacancy_progress_id=b.vacancy_progress_id 
	left join temp_rank g on g.vacancy_employee_id=b.vacancy_employee_id and a.user_id=g.user_id
ExecMe
update job_applied set vacancy_shortlist=1, next_vacancy_progress_id=? where vacancy_id=? and user_id=?
update user_ranking set ranking_id=?, user_comment=? where vacancy_employee_id=? and user_id=?
ExecMe
update user_ranking set ranking_id=?, user_comment=? where vacancy_employee_id=? and user_id=?
ExecMe
update job_applied set vacancy_shortlist=1, next_vacancy_progress_id=? where vacancy_id=? and user_id=?
update user_ranking set ranking_id=?, user_comment=? where vacancy_employee_id=? and user_id=?
ExecMe
update user_ranking set ranking_id=?, user_comment=? where vacancy_employee_id=? and user_id=?
ExecMe
create temporary table filter select a.user_id, a.vacancy_id, ? vacancy_progress_id
			, case when a.next_vacancy_progress_id=? then a.vacancy_shortlist else 0 end vacancy_shortlist from job_applied a
			where ifnull(a.vacancy_progress_id,'')=? and ?!='' and a.vacancy_id=? and a.vacancy_shortlist!=-1
ExecMe
drop table if exists filter2
ExecMe
drop table temp_rank
ExecMe
create temporary table temp_rank
	select b.vacancy_employee_id, b.employee_id, a.user_id, a.ranking_id, a.user_comment, concat(d.first_name,' ', d.last_name) as name, e.ranking_val
	from user_ranking a
	left join vacancy_employee b on a.vacancy_employee_id=b.vacancy_employee_id 
	inner join filter c on c.user_id=a.user_id and c.vacancy_id=b.vacancy_id and c.vacancy_progress_id=b.vacancy_progress_id
	left join applicants d on d.user_id=b.employee_id
	left join ranking e on e.ranking_id=a.ranking_id
	where  a.ranking_id is not null
ExecMe
create temporary table temp_rank2
	select b.vacancy_employee_id, b.employee_id, a.user_id, a.ranking_id, a.user_comment, concat(d.first_name,' ', d.last_name) as name, e.ranking_val
	from user_ranking a
	left join vacancy_employee b on a.vacancy_employee_id=b.vacancy_employee_id 
	inner join filter c on c.user_id=a.user_id and c.vacancy_id=b.vacancy_id
	left join applicants d on d.user_id=b.employee_id
	left join ranking e on e.ranking_id=a.ranking_id
	inner join vacancy f on f.vacancy_id=b.vacancy_id and f.vacancy_progress_id=b.vacancy_progress_id 
	left join temp_rank g on g.vacancy_employee_id=b.vacancy_employee_id and a.user_id=g.user_id
ExecMe
create temporary table filter select a.user_id, a.vacancy_id, a.next_vacancy_progress_id vacancy_progress_id, a.vacancy_shortlist from job_applied a
where a.vacancy_id=? and ifnull(a.next_vacancy_progress_id,'')=? and a.vacancy_shortlist=1
ExecMe
create temporary table filter select a.user_id, a.vacancy_id, a.next_vacancy_progress_id vacancy_progress_id, a.vacancy_shortlist from job_applied a
where a.vacancy_id=? and ifnull(a.next_vacancy_progress_id,'')=? and a.vacancy_shortlist=1
ExecMe
create temporary table filter select a.user_id, a.vacancy_id, a.next_vacancy_progress_id vacancy_progress_id, a.vacancy_shortlist from job_applied a
where a.vacancy_id=? and ifnull(a.next_vacancy_progress_id,'')=? and a.vacancy_shortlist=1
ExecMe
create temporary table filter select a.user_id, a.vacancy_id, a.next_vacancy_progress_id vacancy_progress_id, a.vacancy_shortlist from job_applied a
where a.vacancy_id=? and ifnull(a.next_vacancy_progress_id,'')=? and a.vacancy_shortlist=1
ExecMe
create temporary table filter select a.user_id, a.vacancy_id, a.next_vacancy_progress_id vacancy_progress_id, a.vacancy_shortlist from job_applied a
where a.vacancy_id=? and ifnull(a.next_vacancy_progress_id,'')=? and a.vacancy_shortlist=1
ExecMe
create temporary table filter select a.user_id, a.vacancy_id, a.next_vacancy_progress_id vacancy_progress_id, a.vacancy_shortlist from job_applied a
where a.vacancy_id=? and ifnull(a.next_vacancy_progress_id,'')=? and a.vacancy_shortlist=1
ExecMe
create temporary table filter select a.user_id, a.vacancy_id, a.next_vacancy_progress_id vacancy_progress_id, a.vacancy_shortlist from job_applied a
where a.vacancy_id=? and ifnull(a.next_vacancy_progress_id,'')=? and a.vacancy_shortlist=1
ExecMe
create temporary table filter select a.user_id, a.vacancy_id, a.next_vacancy_progress_id vacancy_progress_id, a.vacancy_shortlist from job_applied a
where a.vacancy_id=? and ifnull(a.next_vacancy_progress_id,'')=? and a.vacancy_shortlist=1
ExecMe
create temporary table filter select a.user_id, a.vacancy_id, a.next_vacancy_progress_id vacancy_progress_id, a.vacancy_shortlist from job_applied a
where a.vacancy_id=? and ifnull(a.next_vacancy_progress_id,'')=? and a.vacancy_shortlist=1
ExecMe
create temporary table filter select a.user_id, a.vacancy_id, a.next_vacancy_progress_id vacancy_progress_id, a.vacancy_shortlist from job_applied a
where a.vacancy_id=? and ifnull(a.next_vacancy_progress_id,'')=? and a.vacancy_shortlist=1
ExecMe
create temporary table filter select a.user_id, a.vacancy_id, a.next_vacancy_progress_id vacancy_progress_id, a.vacancy_shortlist from job_applied a
where a.vacancy_id=? and ifnull(a.next_vacancy_progress_id,'')=? and a.vacancy_shortlist=1
ExecMe
create temporary table filter select a.user_id, a.vacancy_id, a.next_vacancy_progress_id vacancy_progress_id, a.vacancy_shortlist from job_applied a
where a.vacancy_id=? and ifnull(a.next_vacancy_progress_id,'')=? and a.vacancy_shortlist=1
ExecMe
create temporary table filter select a.user_id, a.vacancy_id, a.next_vacancy_progress_id vacancy_progress_id, a.vacancy_shortlist from job_applied a
where a.vacancy_id=? and ifnull(a.next_vacancy_progress_id,'')=? and a.vacancy_shortlist=1
ExecMe
create temporary table filter select a.user_id, a.vacancy_id, a.next_vacancy_progress_id vacancy_progress_id, a.vacancy_shortlist from job_applied a
where a.vacancy_id=? and ifnull(a.next_vacancy_progress_id,'')=? and a.vacancy_shortlist=1
ExecMe
create temporary table filter select a.user_id, a.vacancy_id, a.next_vacancy_progress_id vacancy_progress_id, a.vacancy_shortlist from job_applied a
where a.vacancy_id=? and ifnull(a.next_vacancy_progress_id,'')=? and a.vacancy_shortlist=1
ExecMe
create temporary table filter select a.user_id, a.vacancy_id, a.next_vacancy_progress_id vacancy_progress_id, a.vacancy_shortlist from job_applied a
where a.vacancy_id=? and ifnull(a.next_vacancy_progress_id,'')=? and a.vacancy_shortlist=1
ExecMe
create temporary table filter select a.user_id, a.vacancy_id, a.next_vacancy_progress_id vacancy_progress_id, a.vacancy_shortlist from job_applied a
where a.vacancy_id=? and ifnull(a.next_vacancy_progress_id,'')=? and a.vacancy_shortlist=1
ExecMe
create temporary table filter select a.user_id, a.vacancy_id, a.next_vacancy_progress_id vacancy_progress_id, a.vacancy_shortlist from job_applied a
where a.vacancy_id=? and ifnull(a.next_vacancy_progress_id,'')=? and a.vacancy_shortlist=1
ExecMe
create temporary table filter select a.user_id, a.vacancy_id, a.next_vacancy_progress_id vacancy_progress_id, a.vacancy_shortlist from job_applied a
where a.vacancy_id=? and ifnull(a.next_vacancy_progress_id,'')=? and a.vacancy_shortlist=1
ExecMe
create temporary table filter select a.user_id, a.vacancy_id, a.next_vacancy_progress_id vacancy_progress_id, a.vacancy_shortlist from job_applied a
where a.vacancy_id=? and ifnull(a.next_vacancy_progress_id,'')=? and a.vacancy_shortlist=1
ExecMe
create temporary table filter select a.user_id, a.vacancy_id, a.next_vacancy_progress_id vacancy_progress_id, a.vacancy_shortlist from job_applied a
where a.vacancy_id=? and ifnull(a.next_vacancy_progress_id,'')=? and a.vacancy_shortlist=1
ExecMe
create temporary table filter select a.user_id, a.vacancy_id, a.next_vacancy_progress_id vacancy_progress_id, a.vacancy_shortlist from job_applied a
where a.vacancy_id=? and ifnull(a.next_vacancy_progress_id,'')=? and a.vacancy_shortlist=1
ExecMe
create temporary table filter select a.user_id, a.vacancy_id, a.next_vacancy_progress_id vacancy_progress_id, a.vacancy_shortlist from job_applied a
where a.vacancy_id=? and ifnull(a.next_vacancy_progress_id,'')=? and a.vacancy_shortlist=1
ExecMe
create temporary table filter select a.user_id, a.vacancy_id, a.next_vacancy_progress_id vacancy_progress_id, a.vacancy_shortlist from job_applied a
where a.vacancy_id=? and ifnull(a.next_vacancy_progress_id,'')=? and a.vacancy_shortlist=1
ExecMe
create temporary table filter select a.user_id, a.vacancy_id, a.next_vacancy_progress_id vacancy_progress_id, a.vacancy_shortlist from job_applied a
where a.vacancy_id=? and ifnull(a.next_vacancy_progress_id,'')=? and a.vacancy_shortlist=1
ExecMe
create temporary table filter select a.user_id, a.vacancy_id, a.next_vacancy_progress_id vacancy_progress_id, a.vacancy_shortlist from job_applied a
where a.vacancy_id=? and ifnull(a.next_vacancy_progress_id,'')=? and a.vacancy_shortlist=1
ExecMe
create temporary table filter select a.user_id, a.vacancy_id, a.next_vacancy_progress_id vacancy_progress_id, a.vacancy_shortlist from job_applied a
where a.vacancy_id=? and ifnull(a.next_vacancy_progress_id,'')=? and a.vacancy_shortlist=1
ExecMe
create temporary table filter select a.user_id, a.vacancy_id, a.next_vacancy_progress_id vacancy_progress_id, a.vacancy_shortlist from job_applied a
where a.vacancy_id=? and ifnull(a.next_vacancy_progress_id,'')=? and a.vacancy_shortlist=1
ExecMe
update job_applied set vacancy_progress_id=next_vacancy_progress_id, vacancy_shortlist=0, next_vacancy_progress_id=null 
where vacancy_id=? and next_vacancy_progress_id=? and vacancy_shortlist=1
ExecMe
update vacancy set vacancy_progress_id=? where vacancy_id=?
delete from vacancy_timeline where vacancy_id=? and vacancy_progress_id=?
2
5
ExecMe
delete from vacancy_timeline where vacancy_id=? and vacancy_progress_id=?
ExecMe
insert into vacancy_timeline(vacancy_id, vacancy_progress_id) values(?,?)
ExecMe
insert into email(email_from, email_to, email_cc, email_bcc, email_subject, email_content) values(?,?,?,?,?,?)
ExecMe
insert into email(email_from, email_to, email_cc, email_bcc, email_subject, email_content) values(?,?,?,?,?,?)
ExecMe
insert into email(email_from, email_to, email_cc, email_bcc, email_subject, email_content) values(?,?,?,?,?,?)
ExecMe
create temporary table filter select a.user_id, a.vacancy_id, ? vacancy_progress_id
			, case when a.next_vacancy_progress_id=? then a.vacancy_shortlist else 0 end vacancy_shortlist from job_applied a
			where ifnull(a.vacancy_progress_id,'')=? and ?!='' and a.vacancy_id=? and a.vacancy_shortlist!=-1
ExecMe
drop table if exists filter2
ExecMe
drop table temp_rank
ExecMe
create temporary table temp_rank
	select b.vacancy_employee_id, b.employee_id, a.user_id, a.ranking_id, a.user_comment, concat(d.first_name,' ', d.last_name) as name, e.ranking_val
	from user_ranking a
	left join vacancy_employee b on a.vacancy_employee_id=b.vacancy_employee_id 
	inner join filter c on c.user_id=a.user_id and c.vacancy_id=b.vacancy_id and c.vacancy_progress_id=b.vacancy_progress_id
	left join applicants d on d.user_id=b.employee_id
	left join ranking e on e.ranking_id=a.ranking_id
	where  a.ranking_id is not null
ExecMe
create temporary table temp_rank2
	select b.vacancy_employee_id, b.employee_id, a.user_id, a.ranking_id, a.user_comment, concat(d.first_name,' ', d.last_name) as name, e.ranking_val
	from user_ranking a
	left join vacancy_employee b on a.vacancy_employee_id=b.vacancy_employee_id 
	inner join filter c on c.user_id=a.user_id and c.vacancy_id=b.vacancy_id
	left join applicants d on d.user_id=b.employee_id
	left join ranking e on e.ranking_id=a.ranking_id
	inner join vacancy f on f.vacancy_id=b.vacancy_id and f.vacancy_progress_id=b.vacancy_progress_id 
	left join temp_rank g on g.vacancy_employee_id=b.vacancy_employee_id and a.user_id=g.user_id
ExecMe
insert into vacancy_employee(vacancy_id, employee_id, vacancy_progress_id) values(?,?,?)
ExecMe
create temporary table filter select a.user_id, a.vacancy_id, ? vacancy_progress_id
			, case when a.next_vacancy_progress_id=? then a.vacancy_shortlist else 0 end vacancy_shortlist from job_applied a
			where ifnull(a.vacancy_progress_id,'')=? and ?!='' and a.vacancy_id=? and a.vacancy_shortlist!=-1
ExecMe
drop table if exists filter2
ExecMe
drop table temp_rank
ExecMe
create temporary table temp_rank
	select b.vacancy_employee_id, b.employee_id, a.user_id, a.ranking_id, a.user_comment, concat(d.first_name,' ', d.last_name) as name, e.ranking_val
	from user_ranking a
	left join vacancy_employee b on a.vacancy_employee_id=b.vacancy_employee_id 
	inner join filter c on c.user_id=a.user_id and c.vacancy_id=b.vacancy_id and c.vacancy_progress_id=b.vacancy_progress_id
	left join applicants d on d.user_id=b.employee_id
	left join ranking e on e.ranking_id=a.ranking_id
	where  a.ranking_id is not null
ExecMe
create temporary table temp_rank2
	select b.vacancy_employee_id, b.employee_id, a.user_id, a.ranking_id, a.user_comment, concat(d.first_name,' ', d.last_name) as name, e.ranking_val
	from user_ranking a
	left join vacancy_employee b on a.vacancy_employee_id=b.vacancy_employee_id 
	inner join filter c on c.user_id=a.user_id and c.vacancy_id=b.vacancy_id
	left join applicants d on d.user_id=b.employee_id
	left join ranking e on e.ranking_id=a.ranking_id
	inner join vacancy f on f.vacancy_id=b.vacancy_id and f.vacancy_progress_id=b.vacancy_progress_id 
	left join temp_rank g on g.vacancy_employee_id=b.vacancy_employee_id and a.user_id=g.user_id
ExecMe
create temporary table filter select a.user_id, a.vacancy_id, ? vacancy_progress_id
			, case when a.next_vacancy_progress_id=? then a.vacancy_shortlist else 0 end vacancy_shortlist from job_applied a
			left join vacancy_employee  b on a.vacancy_id=b.vacancy_id and b.vacancy_progress_id=?
			where ifnull(a.vacancy_progress_id,'')=? and ?!='' and a.vacancy_id=? and b.employee_id=? and a.vacancy_shortlist!=-1
ExecMe
drop table if exists filter2
ExecMe
drop table temp_rank
ExecMe
create temporary table temp_rank
	select b.vacancy_employee_id, b.employee_id, a.user_id, a.ranking_id, a.user_comment, concat(d.first_name,' ', d.last_name) as name, e.ranking_val
	from user_ranking a
	left join vacancy_employee b on a.vacancy_employee_id=b.vacancy_employee_id 
	inner join filter c on c.user_id=a.user_id and c.vacancy_id=b.vacancy_id and c.vacancy_progress_id=b.vacancy_progress_id
	left join applicants d on d.user_id=b.employee_id
	left join ranking e on e.ranking_id=a.ranking_id
	where  a.ranking_id is not null
ExecMe
create temporary table temp_rank2
	select b.vacancy_employee_id, b.employee_id, a.user_id, a.ranking_id, a.user_comment, concat(d.first_name,' ', d.last_name) as name, e.ranking_val
	from user_ranking a
	left join vacancy_employee b on a.vacancy_employee_id=b.vacancy_employee_id 
	inner join filter c on c.user_id=a.user_id and c.vacancy_id=b.vacancy_id
	left join applicants d on d.user_id=b.employee_id
	left join ranking e on e.ranking_id=a.ranking_id
	inner join vacancy f on f.vacancy_id=b.vacancy_id and f.vacancy_progress_id=b.vacancy_progress_id 
	left join temp_rank g on g.vacancy_employee_id=b.vacancy_employee_id and a.user_id=g.user_id
ExecMe
create temporary table filter select a.user_id, a.vacancy_id, ? vacancy_progress_id
			, case when a.next_vacancy_progress_id=? then a.vacancy_shortlist else 0 end vacancy_shortlist from job_applied a
			left join vacancy_employee  b on a.vacancy_id=b.vacancy_id and b.vacancy_progress_id=?
			where ifnull(a.vacancy_progress_id,'')=? and ?!='' and a.vacancy_id=? and b.employee_id=? and a.vacancy_shortlist!=-1
ExecMe
drop table if exists filter2
ExecMe
drop table temp_rank
ExecMe
create temporary table temp_rank
	select b.vacancy_employee_id, b.employee_id, a.user_id, a.ranking_id, a.user_comment, concat(d.first_name,' ', d.last_name) as name, e.ranking_val
	from user_ranking a
	left join vacancy_employee b on a.vacancy_employee_id=b.vacancy_employee_id 
	inner join filter c on c.user_id=a.user_id and c.vacancy_id=b.vacancy_id and c.vacancy_progress_id=b.vacancy_progress_id
	left join applicants d on d.user_id=b.employee_id
	left join ranking e on e.ranking_id=a.ranking_id
	where  a.ranking_id is not null
ExecMe
create temporary table temp_rank2
	select b.vacancy_employee_id, b.employee_id, a.user_id, a.ranking_id, a.user_comment, concat(d.first_name,' ', d.last_name) as name, e.ranking_val
	from user_ranking a
	left join vacancy_employee b on a.vacancy_employee_id=b.vacancy_employee_id 
	inner join filter c on c.user_id=a.user_id and c.vacancy_id=b.vacancy_id
	left join applicants d on d.user_id=b.employee_id
	left join ranking e on e.ranking_id=a.ranking_id
	inner join vacancy f on f.vacancy_id=b.vacancy_id and f.vacancy_progress_id=b.vacancy_progress_id 
	left join temp_rank g on g.vacancy_employee_id=b.vacancy_employee_id and a.user_id=g.user_id
ExecMe
create temporary table filter select a.user_id, a.vacancy_id, ? vacancy_progress_id
			, case when a.next_vacancy_progress_id=? then a.vacancy_shortlist else 0 end vacancy_shortlist from job_applied a
			left join vacancy_employee  b on a.vacancy_id=b.vacancy_id and b.vacancy_progress_id=?
			where ifnull(a.vacancy_progress_id,'')=? and ?!='' and a.vacancy_id=? and b.employee_id=? and a.vacancy_shortlist!=-1
ExecMe
drop table if exists filter2
ExecMe
drop table temp_rank
ExecMe
create temporary table temp_rank
	select b.vacancy_employee_id, b.employee_id, a.user_id, a.ranking_id, a.user_comment, concat(d.first_name,' ', d.last_name) as name, e.ranking_val
	from user_ranking a
	left join vacancy_employee b on a.vacancy_employee_id=b.vacancy_employee_id 
	inner join filter c on c.user_id=a.user_id and c.vacancy_id=b.vacancy_id and c.vacancy_progress_id=b.vacancy_progress_id
	left join applicants d on d.user_id=b.employee_id
	left join ranking e on e.ranking_id=a.ranking_id
	where  a.ranking_id is not null
ExecMe
create temporary table temp_rank2
	select b.vacancy_employee_id, b.employee_id, a.user_id, a.ranking_id, a.user_comment, concat(d.first_name,' ', d.last_name) as name, e.ranking_val
	from user_ranking a
	left join vacancy_employee b on a.vacancy_employee_id=b.vacancy_employee_id 
	inner join filter c on c.user_id=a.user_id and c.vacancy_id=b.vacancy_id
	left join applicants d on d.user_id=b.employee_id
	left join ranking e on e.ranking_id=a.ranking_id
	inner join vacancy f on f.vacancy_id=b.vacancy_id and f.vacancy_progress_id=b.vacancy_progress_id 
	left join temp_rank g on g.vacancy_employee_id=b.vacancy_employee_id and a.user_id=g.user_id
ExecMe
insert into user_ranking(vacancy_employee_id, user_id, ranking_id, user_comment) values(?,?,?,?)
ExecMe
insert into vacancy_interview(vacancy_id, user_id, vacancy_progress_id, interview_place, interview_date, interview_time) values(?,?,?,?,?,?)
ExecMe
create temporary table filter select a.user_id, a.vacancy_id, ? vacancy_progress_id
			, case when a.next_vacancy_progress_id=? then a.vacancy_shortlist else 0 end vacancy_shortlist from job_applied a
			left join vacancy_employee  b on a.vacancy_id=b.vacancy_id and b.vacancy_progress_id=?
			where ifnull(a.vacancy_progress_id,'')=? and ?!='' and a.vacancy_id=? and b.employee_id=? and a.vacancy_shortlist!=-1
ExecMe
drop table if exists filter2
ExecMe
drop table temp_rank
ExecMe
create temporary table temp_rank
	select b.vacancy_employee_id, b.employee_id, a.user_id, a.ranking_id, a.user_comment, concat(d.first_name,' ', d.last_name) as name, e.ranking_val
	from user_ranking a
	left join vacancy_employee b on a.vacancy_employee_id=b.vacancy_employee_id 
	inner join filter c on c.user_id=a.user_id and c.vacancy_id=b.vacancy_id and c.vacancy_progress_id=b.vacancy_progress_id
	left join applicants d on d.user_id=b.employee_id
	left join ranking e on e.ranking_id=a.ranking_id
	where  a.ranking_id is not null
ExecMe
create temporary table temp_rank2
	select b.vacancy_employee_id, b.employee_id, a.user_id, a.ranking_id, a.user_comment, concat(d.first_name,' ', d.last_name) as name, e.ranking_val
	from user_ranking a
	left join vacancy_employee b on a.vacancy_employee_id=b.vacancy_employee_id 
	inner join filter c on c.user_id=a.user_id and c.vacancy_id=b.vacancy_id
	left join applicants d on d.user_id=b.employee_id
	left join ranking e on e.ranking_id=a.ranking_id
	inner join vacancy f on f.vacancy_id=b.vacancy_id and f.vacancy_progress_id=b.vacancy_progress_id 
	left join temp_rank g on g.vacancy_employee_id=b.vacancy_employee_id and a.user_id=g.user_id
ExecMe
create temporary table filter select a.user_id, a.vacancy_id, ? vacancy_progress_id
			, case when a.next_vacancy_progress_id=? then a.vacancy_shortlist else 0 end vacancy_shortlist from job_applied a
			where ifnull(a.vacancy_progress_id,'')=? and ?!='' and a.vacancy_id=? and a.vacancy_shortlist!=-1
ExecMe
drop table if exists filter2
ExecMe
drop table temp_rank
ExecMe
create temporary table temp_rank
	select b.vacancy_employee_id, b.employee_id, a.user_id, a.ranking_id, a.user_comment, concat(d.first_name,' ', d.last_name) as name, e.ranking_val
	from user_ranking a
	left join vacancy_employee b on a.vacancy_employee_id=b.vacancy_employee_id 
	inner join filter c on c.user_id=a.user_id and c.vacancy_id=b.vacancy_id and c.vacancy_progress_id=b.vacancy_progress_id
	left join applicants d on d.user_id=b.employee_id
	left join ranking e on e.ranking_id=a.ranking_id
	where  a.ranking_id is not null
ExecMe
create temporary table temp_rank2
	select b.vacancy_employee_id, b.employee_id, a.user_id, a.ranking_id, a.user_comment, concat(d.first_name,' ', d.last_name) as name, e.ranking_val
	from user_ranking a
	left join vacancy_employee b on a.vacancy_employee_id=b.vacancy_employee_id 
	inner join filter c on c.user_id=a.user_id and c.vacancy_id=b.vacancy_id
	left join applicants d on d.user_id=b.employee_id
	left join ranking e on e.ranking_id=a.ranking_id
	inner join vacancy f on f.vacancy_id=b.vacancy_id and f.vacancy_progress_id=b.vacancy_progress_id 
	left join temp_rank g on g.vacancy_employee_id=b.vacancy_employee_id and a.user_id=g.user_id
ExecMe
insert into vacancy_employee(vacancy_id, employee_id, vacancy_progress_id) values(?,?,?)
ExecMe
insert into user_ranking(vacancy_employee_id, user_id, ranking_id, user_comment) values(?,?,?,?)
update vacancy_interview set interview_place=?, interview_date=?, interview_time=? where vacancy_interview_id=?
ExecMe
update vacancy_interview set interview_place=?, interview_date=?, interview_time=? where vacancy_interview_id=?
ExecMe
update job_applied set vacancy_shortlist=1, next_vacancy_progress_id=? where vacancy_id=? and user_id=?
update user_ranking set ranking_id=?, user_comment=? where vacancy_employee_id=? and user_id=?
ExecMe
update user_ranking set ranking_id=?, user_comment=? where vacancy_employee_id=? and user_id=?
update vacancy_interview set interview_place=?, interview_date=?, interview_time=? where vacancy_interview_id=?
ExecMe
update vacancy_interview set interview_place=?, interview_date=?, interview_time=? where vacancy_interview_id=?
ExecMe
create temporary table filter select a.user_id, a.vacancy_id, ? vacancy_progress_id
			, case when a.next_vacancy_progress_id=? then a.vacancy_shortlist else 0 end vacancy_shortlist from job_applied a
			where ifnull(a.vacancy_progress_id,'')=? and ?!='' and a.vacancy_id=? and a.vacancy_shortlist!=-1
ExecMe
drop table if exists filter2
ExecMe
drop table temp_rank
ExecMe
create temporary table temp_rank
	select b.vacancy_employee_id, b.employee_id, a.user_id, a.ranking_id, a.user_comment, concat(d.first_name,' ', d.last_name) as name, e.ranking_val
	from user_ranking a
	left join vacancy_employee b on a.vacancy_employee_id=b.vacancy_employee_id 
	inner join filter c on c.user_id=a.user_id and c.vacancy_id=b.vacancy_id and c.vacancy_progress_id=b.vacancy_progress_id
	left join applicants d on d.user_id=b.employee_id
	left join ranking e on e.ranking_id=a.ranking_id
	where  a.ranking_id is not null
ExecMe
create temporary table temp_rank2
	select b.vacancy_employee_id, b.employee_id, a.user_id, a.ranking_id, a.user_comment, concat(d.first_name,' ', d.last_name) as name, e.ranking_val
	from user_ranking a
	left join vacancy_employee b on a.vacancy_employee_id=b.vacancy_employee_id 
	inner join filter c on c.user_id=a.user_id and c.vacancy_id=b.vacancy_id
	left join applicants d on d.user_id=b.employee_id
	left join ranking e on e.ranking_id=a.ranking_id
	inner join vacancy f on f.vacancy_id=b.vacancy_id and f.vacancy_progress_id=b.vacancy_progress_id 
	left join temp_rank g on g.vacancy_employee_id=b.vacancy_employee_id and a.user_id=g.user_id
ExecMe
create temporary table filter select a.user_id, a.vacancy_id, ? vacancy_progress_id
			, case when a.next_vacancy_progress_id=? then a.vacancy_shortlist else 0 end vacancy_shortlist from job_applied a
			where ifnull(a.vacancy_progress_id,'')=? and ?!='' and a.vacancy_id=? and a.vacancy_shortlist!=-1
ExecMe
drop table if exists filter2
ExecMe
drop table temp_rank
ExecMe
create temporary table temp_rank
	select b.vacancy_employee_id, b.employee_id, a.user_id, a.ranking_id, a.user_comment, concat(d.first_name,' ', d.last_name) as name, e.ranking_val
	from user_ranking a
	left join vacancy_employee b on a.vacancy_employee_id=b.vacancy_employee_id 
	inner join filter c on c.user_id=a.user_id and c.vacancy_id=b.vacancy_id and c.vacancy_progress_id=b.vacancy_progress_id
	left join applicants d on d.user_id=b.employee_id
	left join ranking e on e.ranking_id=a.ranking_id
	where  a.ranking_id is not null
ExecMe
create temporary table temp_rank2
	select b.vacancy_employee_id, b.employee_id, a.user_id, a.ranking_id, a.user_comment, concat(d.first_name,' ', d.last_name) as name, e.ranking_val
	from user_ranking a
	left join vacancy_employee b on a.vacancy_employee_id=b.vacancy_employee_id 
	inner join filter c on c.user_id=a.user_id and c.vacancy_id=b.vacancy_id
	left join applicants d on d.user_id=b.employee_id
	left join ranking e on e.ranking_id=a.ranking_id
	inner join vacancy f on f.vacancy_id=b.vacancy_id and f.vacancy_progress_id=b.vacancy_progress_id 
	left join temp_rank g on g.vacancy_employee_id=b.vacancy_employee_id and a.user_id=g.user_id
ExecMe
create temporary table filter select a.user_id, a.vacancy_id, a.next_vacancy_progress_id vacancy_progress_id, a.vacancy_shortlist from job_applied a
where a.vacancy_id=? and ifnull(a.next_vacancy_progress_id,'')=? and a.vacancy_shortlist=1
ExecMe
create temporary table filter select a.user_id, a.vacancy_id, ? vacancy_progress_id
			, case when a.next_vacancy_progress_id=? then a.vacancy_shortlist else 0 end vacancy_shortlist from job_applied a
			where ifnull(a.vacancy_progress_id,'')=? and ?!='' and a.vacancy_id=? and a.vacancy_shortlist!=-1
ExecMe
drop table if exists filter2
ExecMe
drop table temp_rank
ExecMe
create temporary table temp_rank
	select b.vacancy_employee_id, b.employee_id, a.user_id, a.ranking_id, a.user_comment, concat(d.first_name,' ', d.last_name) as name, e.ranking_val
	from user_ranking a
	left join vacancy_employee b on a.vacancy_employee_id=b.vacancy_employee_id 
	inner join filter c on c.user_id=a.user_id and c.vacancy_id=b.vacancy_id and c.vacancy_progress_id=b.vacancy_progress_id
	left join applicants d on d.user_id=b.employee_id
	left join ranking e on e.ranking_id=a.ranking_id
	where  a.ranking_id is not null
ExecMe
create temporary table temp_rank2
	select b.vacancy_employee_id, b.employee_id, a.user_id, a.ranking_id, a.user_comment, concat(d.first_name,' ', d.last_name) as name, e.ranking_val
	from user_ranking a
	left join vacancy_employee b on a.vacancy_employee_id=b.vacancy_employee_id 
	inner join filter c on c.user_id=a.user_id and c.vacancy_id=b.vacancy_id
	left join applicants d on d.user_id=b.employee_id
	left join ranking e on e.ranking_id=a.ranking_id
	inner join vacancy f on f.vacancy_id=b.vacancy_id and f.vacancy_progress_id=b.vacancy_progress_id 
	left join temp_rank g on g.vacancy_employee_id=b.vacancy_employee_id and a.user_id=g.user_id
ExecMe
create temporary table filter select a.user_id, a.vacancy_id, ? vacancy_progress_id
			, case when a.next_vacancy_progress_id=? then a.vacancy_shortlist else 0 end vacancy_shortlist from job_applied a
			where ifnull(a.vacancy_progress_id,'')=? and ?!='' and a.vacancy_id=? and a.vacancy_shortlist!=-1
ExecMe
drop table if exists filter2
ExecMe
drop table temp_rank
ExecMe
create temporary table temp_rank
	select b.vacancy_employee_id, b.employee_id, a.user_id, a.ranking_id, a.user_comment, concat(d.first_name,' ', d.last_name) as name, e.ranking_val
	from user_ranking a
	left join vacancy_employee b on a.vacancy_employee_id=b.vacancy_employee_id 
	inner join filter c on c.user_id=a.user_id and c.vacancy_id=b.vacancy_id and c.vacancy_progress_id=b.vacancy_progress_id
	left join applicants d on d.user_id=b.employee_id
	left join ranking e on e.ranking_id=a.ranking_id
	where  a.ranking_id is not null
ExecMe
create temporary table temp_rank2
	select b.vacancy_employee_id, b.employee_id, a.user_id, a.ranking_id, a.user_comment, concat(d.first_name,' ', d.last_name) as name, e.ranking_val
	from user_ranking a
	left join vacancy_employee b on a.vacancy_employee_id=b.vacancy_employee_id 
	inner join filter c on c.user_id=a.user_id and c.vacancy_id=b.vacancy_id
	left join applicants d on d.user_id=b.employee_id
	left join ranking e on e.ranking_id=a.ranking_id
	inner join vacancy f on f.vacancy_id=b.vacancy_id and f.vacancy_progress_id=b.vacancy_progress_id 
	left join temp_rank g on g.vacancy_employee_id=b.vacancy_employee_id and a.user_id=g.user_id
ExecMe
create temporary table filter select a.user_id, a.vacancy_id, ? vacancy_progress_id
			, case when a.next_vacancy_progress_id=? then a.vacancy_shortlist else 0 end vacancy_shortlist from job_applied a
			where ifnull(a.vacancy_progress_id,'')=? and ?!='' and a.vacancy_id=? and a.vacancy_shortlist!=-1
ExecMe
drop table if exists filter2
ExecMe
drop table temp_rank
ExecMe
create temporary table temp_rank
	select b.vacancy_employee_id, b.employee_id, a.user_id, a.ranking_id, a.user_comment, concat(d.first_name,' ', d.last_name) as name, e.ranking_val
	from user_ranking a
	left join vacancy_employee b on a.vacancy_employee_id=b.vacancy_employee_id 
	inner join filter c on c.user_id=a.user_id and c.vacancy_id=b.vacancy_id and c.vacancy_progress_id=b.vacancy_progress_id
	left join applicants d on d.user_id=b.employee_id
	left join ranking e on e.ranking_id=a.ranking_id
	where  a.ranking_id is not null
ExecMe
create temporary table temp_rank2
	select b.vacancy_employee_id, b.employee_id, a.user_id, a.ranking_id, a.user_comment, concat(d.first_name,' ', d.last_name) as name, e.ranking_val
	from user_ranking a
	left join vacancy_employee b on a.vacancy_employee_id=b.vacancy_employee_id 
	inner join filter c on c.user_id=a.user_id and c.vacancy_id=b.vacancy_id
	left join applicants d on d.user_id=b.employee_id
	left join ranking e on e.ranking_id=a.ranking_id
	inner join vacancy f on f.vacancy_id=b.vacancy_id and f.vacancy_progress_id=b.vacancy_progress_id 
	left join temp_rank g on g.vacancy_employee_id=b.vacancy_employee_id and a.user_id=g.user_id

ExecMe
create temporary table filter select a.user_id, a.vacancy_id, ? vacancy_progress_id
			, case when a.next_vacancy_progress_id=? then a.vacancy_shortlist else 0 end vacancy_shortlist from job_applied a
			where ifnull(a.vacancy_progress_id,'')=? and ?!='' and a.vacancy_id=? and a.vacancy_shortlist!=-1
ExecMe
drop table if exists filter2
ExecMe
drop table temp_rank
ExecMe
create temporary table temp_rank
	select b.vacancy_employee_id, b.employee_id, a.user_id, a.ranking_id, a.user_comment, concat(d.first_name,' ', d.last_name) as name, e.ranking_val
	from user_ranking a
	left join vacancy_employee b on a.vacancy_employee_id=b.vacancy_employee_id 
	inner join filter c on c.user_id=a.user_id and c.vacancy_id=b.vacancy_id and c.vacancy_progress_id=b.vacancy_progress_id
	left join applicants d on d.user_id=b.employee_id
	left join ranking e on e.ranking_id=a.ranking_id
	where  a.ranking_id is not null
ExecMe
create temporary table temp_rank2
	select b.vacancy_employee_id, b.employee_id, a.user_id, a.ranking_id, a.user_comment, concat(d.first_name,' ', d.last_name) as name, e.ranking_val
	from user_ranking a
	left join vacancy_employee b on a.vacancy_employee_id=b.vacancy_employee_id 
	inner join filter c on c.user_id=a.user_id and c.vacancy_id=b.vacancy_id
	left join applicants d on d.user_id=b.employee_id
	left join ranking e on e.ranking_id=a.ranking_id
	inner join vacancy f on f.vacancy_id=b.vacancy_id and f.vacancy_progress_id=b.vacancy_progress_id 
	left join temp_rank g on g.vacancy_employee_id=b.vacancy_employee_id and a.user_id=g.user_id

